(this["webpackJsonpfront-end-dev-recruitment-task-2"]=this["webpackJsonpfront-end-dev-recruitment-task-2"]||[]).push([[0],[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}n.r(t);var o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"false",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";r(this,e),this.inputPlaceholder=t,this.classes=n,this.type=a,this.isRequired=i,this.id=o}return i(e,[{key:"render",value:function(){var e=document.createElement("input");return e.type=this.type,e.placeholder=this.inputPlaceholder,e.setAttribute("id",this.id),"true"===this.isRequired&&e.setAttribute("required",""),Array.isArray(this.classes)&&this.classes.forEach((function(t){e.classList.add(t)})),e}}]),e}(),l=o,d=function(){function e(t,n,a){r(this,e),this.label=t,this.onClick=n,this.classes=a}return i(e,[{key:"render",value:function(){var e=this,t=document.createElement("button");return t.innerText=this.label,Array.isArray(this.classes)&&this.classes.forEach((function(e){t.classList.add(e)})),t.addEventListener("click",(function(){return e.onClick()})),t}}]),e}(),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];r(this,e),this.labelValue=t,this.classes=n}return i(e,[{key:"render",value:function(){var e=document.createElement("span");return Array.isArray(this.classes)&&this.classes.forEach((function(t){e.classList.add(t)})),e.innerText=this.labelValue,e}}]),e}(),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];r(this,e),this.classes=t}return i(e,[{key:"render",value:function(){var e=document.createElement("div");return Array.isArray(this.classes)&&this.classes.forEach((function(t){e.classList.add(t)})),e}}]),e}(),u=c,h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0;r(this,e),this.tableHeaderLabelValue=t,this.dataFields=n,this.tableClasses=a,this.onClick=i}return i(e,[{key:"render",value:function(){var e=document.createElement("table"),t=document.createElement("thead"),n=document.createElement("tr"),r=document.createElement("tbody");return t.style.cursor="pointer",Array.isArray(this.tableClasses)&&this.tableClasses.forEach((function(t){e.classList.add(t)})),Array.isArray(this.tableHeaderLabelValue)&&this.tableHeaderLabelValue.forEach((function(e){var t=document.createElement("th");t.setAttribute("data-sortable","true"),t.innerText=e,t.dataset.field=e,t.setAttribute("scope","col"),t.classList.add("pe-auto","align-middle"),n.appendChild(t)})),t.appendChild(n),e.appendChild(t),e.appendChild(r),e.setAttribute("id","table"),e}}]),e}(),p=h,m=new(function(){function e(){r(this,e),this.container=null,this.cars=[],this.brand="",this.model="",this.year="",this.localStorageKey=""}return i(e,[{key:"addToTheTable",value:function(){var e=document.getElementById("brand"),t=document.getElementById("model"),n=document.getElementById("production-year");if(""!==e.value&&""!==t.value&&""!==n.value){var r=document.createElement("tr"),a=document.createElement("td"),i=document.createElement("td"),o=document.createElement("td");a.innerText=e.value,i.innerText=t.value,o.innerText=n.value,r.appendChild(a),r.appendChild(i),r.appendChild(o),document.querySelector("tbody").appendChild(r)}}},{key:"generateTimestampId",value:function(){return Date.now()+"-"+Math.round(1e6*Math.random())}},{key:"saveToLocalStorage",value:function(){var e={cars:this.cars};localStorage.setItem(this.localStorageKey,JSON.stringify(e))}},{key:"loadFromLocalStorage",value:function(){var e=JSON.parse(localStorage.getItem(this.localStorageKey));e&&(this.cars=e.cars)}},{key:"addCarToTheTable",value:function(){var e=this,t=document.querySelector("tbody"),n=this.cars,r=document.getElementById("brand"),a=document.getElementById("model"),i=document.getElementById("production-year");if(""!==r.value&&""!==a.value&&""!==i.value){var o=document.createElement("tr"),l=document.createElement("td");l.innerText=n[n.length-1].brand,l.classList.add("align-middle"),l.style.cursor="pointer",l.addEventListener("click",(function(t){t.target.innerText=e.openPopup()}));var s=document.createElement("td");s.innerText=n[n.length-1].model,s.classList.add("car__model","align-middle"),s.style.cursor="pointer",s.addEventListener("click",(function(t){t.target.innerText=e.openPopup()}));var c=document.createElement("td");c.innerText=n[n.length-1].year,c.classList.add("align-middle"),c.style.cursor="pointer",c.addEventListener("click",(function(t){t.target.innerText=e.openPopup()}));var u=document.createElement("td"),h=new d("",(function(t){return e.deleteRow(t)}),["btn","btn-danger","delete__button"]).render();return h.innerHTML='<i class="far fa-trash-alt"></i>',u.appendChild(h),o.append(l,s,c,u),t.appendChild(o),t}}},{key:"deleteRow",value:function(e){console.log("usun wiersz")}},{key:"onNewCarSubmit",value:function(){var e=document.getElementById("brand"),t=document.getElementById("model"),n=document.getElementById("production-year");this.cars=this.cars.concat({brand:e.value,model:t.value,year:n.value,id:this.generateTimestampId()}),this.saveToLocalStorage(),this.addCarToTheTable()}},{key:"openPopup",value:function(){return prompt("Zmie\u0144 nazw\u0119")}},{key:"sort",value:function(){var e=this,t=function(e,t){return e.children[t].innerText||e.children[t].textContent};document.querySelectorAll("th").forEach((function(n){return n.addEventListener("click",(function(){var r,a,i=n.closest("table").querySelector("tbody");Array.from(i.querySelectorAll("tr")).sort((r=Array.from(n.parentNode.children).indexOf(n),a=e.asc=!e.asc,function(e,n){return i=t(a?n:e,r),o=t(a?e:n,r),""===i||""===o||isNaN(i)||isNaN(o)?i.toString().localeCompare(o):i-o;var i,o})).forEach((function(e){return i.appendChild(e)}))}))}))}},{key:"filter",value:function(){for(var e=document.getElementById("filter").value.toUpperCase(),t=document.getElementById("table").getElementsByTagName("tr"),n=1;n<t.length;n++){t[n].style.display="none";for(var r=t[n].getElementsByClassName("car__model"),a=0;a<r.length;a++){var i=t[n].getElementsByClassName("car__model")[a];if(i&&i.innerHTML.toUpperCase().indexOf(e)>-1){t[n].style.display="";break}}}}},{key:"render",value:function(){var e=this;this.container||(this.container=document.createElement("div")),this.container.innerHTML="",this.container.classList.add("container-md");var t=document.createElement("form"),n=new u(["input-group","mb-3"]),r=new l("Marka pojazdu",["form-control","col"],"text","true","brand"),a=new s("Marka pojazdu",["input-group-text","col"]),i=new u(["input-group","mb-3"]),o=new l("Model pojazdu",["form-control","col"],"text","true","model"),c=new s("Model pojazdu",["input-group-text","col"]),h=new u(["input-group","mb-3"]),m=new l("Rok produkcji",["form-control","col"],"number","true","production-year"),f=new s("Rok produkcji",["input-group-text","col"]),v=new d("DODAJ",(function(){e.onNewCarSubmit(),e.sort()}),["btn","btn-outline-success","w-100"]),y=new u(["input-group","mb-3"]),g=new l("Szukaj model",["form-control"],"text","false","filter"),b=new d("",(function(){return e.filter()}),["btn","btn-info"]),E=new p(["Marka pojazdu","Model pojazdu","Rok produkcji","Usu\u0144"],["Marka pojazdu","Model pojazdu","Rok produkcji","Usu\u0144"],["table","table-striped","thead-dark","table-hover"]);this.loadFromLocalStorage();var k=n.render();k.appendChild(a.render()),k.appendChild(r.render());var C=i.render();C.appendChild(c.render()),C.appendChild(o.render());var T=h.render();T.appendChild(f.render()),T.appendChild(m.render());var w=y.render(),L=g.render();L.addEventListener("input",(function(){return e.filter()})),w.appendChild(L);var x=b.render();x.innerHTML='<i class="fas fa-filter"></i>',w.appendChild(x),t.appendChild(k),t.appendChild(C),t.appendChild(T),t.appendChild(v.render()),t.addEventListener("click",(function(e){e.preventDefault()})),this.container.appendChild(t),this.container.appendChild(w);var A=E.render();return this.container.appendChild(A),this.sort(),this.container}}]),e}());document.querySelector("#root").appendChild(m.render()),window.app1=m}],[[0,1]]]);
//# sourceMappingURL=main.390ce9f4.chunk.js.map